<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<head>
	<style type="text/css">
		.button-save {
			padding: 10px;
			margin-top: 10px;
			background-color: #acacac;
			color: black;
		}
	</style>
</head>
<div class="frame frame-size-default frame-default frame-type-textpic frame-layout-embedded frame-background-light frame-no-backgroundimage">
	<div class="frame-group-container fond-recette">
		<div class="frame-group-inner">
			<div class="frame-container frame-container-default">
				<div class="frame-inner">
					<div class="textpic textpic-centered textpic-right">
						<div class="textpic-item textpic-gallery">
							<div class="gallery-row">
								<div class="gallery-item gallery-item-size-1">
									<figure class="image">
										<f:image image="{recipe.pictures}" />
									</figure>
								</div>
							</div>
						</div>
						<div class="textpic-item textpic-text">
							<h1>{recipe.name}</h1>
							<h5><em><small>
								<p>Origine :
									<f:link.action action="list" arguments="{origin : recipe.origin}">
										{recipe.origin.name}
									</f:link.action>
								</p>
								<p>Type de plat :
									<f:link.action action="list" arguments="{typeOfDish : recipe.dishType}">
										{recipe.dishType}
									</f:link.action>
								</p>
								<p>Temps de cuisson : {recipe.cookingTime}</p>
								<p>Temps de préparation : {recipe.preparationTime}</p>
								<p>Nombre de personnes : {recipe.nbPerson}</p>
								<p>Difficulté : {recipe.difficulty}</p>
								<p>Thème(s) :
									<f:for each="{recipe.theme}" as="theme">
										{theme.name}
									</f:for>
								</p>
							</small></em></h5>
							<hr>
							<h5><small><em class="etapes">
								{recipe.steps}
							</em></small></h5>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<div class="d-flex justify-content-between">
									<label>
										<h5><em><small>
										Commentaire
										</small></em></h5>
										<input type="text"/>
									</label>
									<label style="margin-left: 20px">
										<h5><em><small>
											Note
										</small></em></h5>
										<input type="number"/>
									</label>
								</div>
								<f:link.action action="newAction" arguments="{recipe : recipe}" class="button-save">Enregistrer</f:link.action>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	function removeTags(str) {
		if ((str===null) || (str===''))
			return false;
		else
			str = str.toString();

		// Regular expression to identify HTML tags in
		// the input string. Replacing the identified
		// HTML tag with a null string.
		return str.replace( /(<([^>]+)>)/ig, '');
	}

	window.addEventListener('load', event => {
		const elements = document.getElementsByClassName("etapes");
		elements[0].textContent = removeTags(elements[0].textContent);
		/*for (let item in elements){
			console.log(item);
			item.innerHTML = removeTags(item.innerHTML);
		}*/
	});

</script>
</html>
